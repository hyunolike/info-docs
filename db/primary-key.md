## 기본키 `Primary key`
> [참고 자료](https://coding-factory.tistory.com/220)
### 기본키는 무조건 증가시키는 유니크한 값을 넣어야할까? 에 대한 고민을 해결하고자 다시 정리

### 1. 여기서 키란?? `Key`
- 데이터베이스에서 조건에 만족하는 튜플을 찾거나 순서대로 정렬할 때 다른 튜플들과 구별할 수 있는 유일한 기준이 되는 `Attribute(속성)`!
### 2. 기본키??
- DB에서 테이블 생성 시  `1개` 또는 그 이상의 항목을 기본키 설정 가능
- 기본키는 해당 테이블에서 가장 기본적인 값을 가짐
- 테이블의 각 레코드들을 고유하게 식별해주는 역할

#### 2-1. 특징
- 속성은 항상 고유한 값
- 널 값을 가지면 안됨
- 값이 변경될 가능성이 높은 속성은 기본 키로 선정하지 않는게 좋다.
- 가능하면 복합 기본 키는 피할 것
- 테이블에 기본키는 하나만 가능

#### 2-2. 후보키, 대체키
- 후보키: 테이블에서 각 튜플들을 구별하는 데 기준이 되는 하나 혹은 그 이상의 칼럼들의 집합
- ... 

## 기본키와 `Auto_Increment` 사용 이유 ⭐
> [참고 자료](https://bangsj1224.tistory.com/entry/%EA%B8%B0%EB%B3%B8%ED%82%A4%EC%99%80-AutoIncrement)
- 크게 3가지 조건을 만족해야 된다!!
  1. 유일한 값
  2. NULL 아닌 값을 가짐
  3. 변경되지 않아야 함
- 이 3가지 모두 만족하는 것이 바로 __자동 생성(Auto_increament, identity, serial 등)__ ✔

### 기본키 사용 이유
- 기본키 없으면 일관성 없는 데이터 반복적으로 쌓일 수 있다.
- 쿼리 속도 느려지고
- 원하지 않는 조회 결과 초래 ㅠ,ㅠ
- ✔ `관계형 데이터베이스`에서는 반드시 각 행이 고유하게 식별되야함!!

### 클러스터링 인덱스
- 기본키 값이 비슷한 레코드끼리 묶어서 저장하는 것
- 기본키 값에 의해 레코드 저장 위치 결정되기 때문에, 기본키 값이 변경된다면 레코드의 물리적인 저장 위치 변경되야 함

### 문제점 😂
- 서버 재시작 시 현재 레코드의 `max(auto_increament)` 값부터 값이 시작되어 중복 발생
- 여러 개의 웹서버, WAS, DB의 분산형 환경일 때, 각 데이터베이스에 동기화 설정이 되어 있으면 데이터 일관성에 문제가 발생하 수 있다는 점 ㅠ,.ㅠ
