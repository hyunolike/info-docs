## 자바 직렬화

- `implements Serializable` 로 되어있는 `VO(Value Object)` !! ✔ 
  - 잠깐만 ㅋㅋㅋㅋ`VO`? `DTO` 랑 동일한 개념이지만 __READ ONLY__ 속성을 갖는다

### 직렬화
- 자바 시스템 내부에서 사용되는 `Object` `Data` >> 외부의 자바 시스템에서도 사용할 수 있도록 바이트 형태로 데이터 변환하는 기술!
  -  JVM의 메모리에 상주되어 있는 객체 데이터를 바이트 형태로 변환하는 기술 
- 다차원의 자료 >> 파일 저장 / 네트워크 보내기에 알맞게 __일차원__ --> 원래대로 되돌리는 것 : `직렬화(Serialization)`
- 역직렬화: 직렬화의 반대 (바이트 -> data, object)

### 직렬화의 종류
- 크게 2 종류
  - 직렬화되는 자료가 어떤 종류인지 나타내는 데이터 모델
  - 데이터 모델이 언제 결정되느냐에 

#### 1. `schematic`
- 데이터 모델이 고정
- 나중에 바뀌지 않는다는 걸 알고 있고, 직렬화 포멧을 데이터 모델마다 생성해서 쓸 수 있다.
- 프로토콜 버퍼, Cap's Proto 존재
- __성능__ 을 우선 / __데이터 크기__ 우선 >> 이렇게 나눌 수 있다 >> 어느 쪽이든 `schemaless` 한 직렬화보다는 효율적!

#### 2. `schemaless`
- 대부분의 데이터 모델을 포함하는 __범용 데이터 모델__ 쓰는 접근
- 재귀 ❌ 순서 ⭕ >> 순열 및 순서 ❌ >> 집합 ==> `JSON` `MessagePack` 같은 것들 해당 
- `XML` + DTO / XML Schema >> 스키마 존재하면 >> `schematic` 아니면 `schemaless` [참고자료](https://j.mearie.org/post/122845365013/serialization#notes)

### 자바에서의 직렬화(`Serializable`)
- 자바에서의 직렬화 >> JVM 메모리에서만 상주되어있는 객체 데이터를 그대로 영속화가 필요할 때 사용!
  - 네트워크 전송 가능
  - 필요할 떄 객체 데이터를 가져와서 역직렬화하여 객체 바로 사용 가능
#### 서블릿 세션(`Servlet Session`)
- 서블릿 기반의 WAS(톰캣, 웹로직 등) 대부분 세션의 자바 직렬화 지원
- 파일로 저장하거나 세션 클러스터링, db에 저장하는 옵션 등을 선택하게 된다면 세션 자체가 직렬화 되어 저장되어 전달
#### 캐시(`Cache`)
- 캐시 할 부분을 자바 직렬화된 데이터 저장해서 사용!
#### `RMI` (Remote Method Invocation)
- 원격 시스템간의 메시지 교환을 위해 사용하는 자바에서 지원하는 기술
- 원격 시스템의 메소드를 호출 시에 전달하는 메시지(객체)를 자동으로 직렬화 시켜 사용

### 자바의 `Serializable` ✔
- `java.io.Serializable` 인터페이스 보면 구현해야 할 메서드 없다.
- 그 이유는 Serializable 인터페이스 구현한 구현체 >> __직렬화 대상__ 이라는 것을 `JVM`에게 알려주는 역할만 수행!
- 떄문에 불필요한 직렬화는 오버헤드의 원인 ㅠ,ㅠ 
- 하지만!! `Serializable` 은 직렬화 작업을 하는 것이 아니라 단지 해당 클래스의 인스턴스는 직렬화할 수 있다는 것을 선언하는 것!! 문제 되지 않는다.
  - 👌 참고로 자바의 `ArrayList` `HashMap` 등 기본 컬렉션 구현체 모두 ✔ `Serializable` 구현하고 있는 것 비슷


[참고자료](https://haranglog.tistory.com/4)
