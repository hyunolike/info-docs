## ELK Stack + Kfaka
> [ì°¸ê³ ìë£Œ](https://pearlluck.tistory.com/583) <br>
> [ì°¸ê³ ìë£Œ](https://elastic-stack.readthedocs.io/en/latest/e2e_kafkapractices.html)


![image](https://user-images.githubusercontent.com/61215550/178900123-a36ce213-07da-4467-ade3-ce7688f90bf1.png)

### 1. ì™œ ì‚¬ìš©í•˜ì§€?
- ë¡œê·¸ë¥¼ ë”°ë¡œ ê´€ë¦¬í•˜ì§€ ì•Šê³  ì´ë ‡ê²Œ íŒŒì¼ì— ìŒ“ì•„ë‘ê²Œ ë˜ë©´ ì•„ë˜ì™€ ê°™ì€ ë¬¸ì œ ë°œìƒ ã… ,ã… 
  - ë¡œê·¸ë ˆë²¨ íŒŒì•… ì–´ë ¤ì›€
  - ê²€ìƒ‰ì–´ ë¶„ì„ ì–´ë ¤ì›€
  - ë‚ ì§œ, ì‹œê°„ì— ë”°ë¼ ë¡œê·¸ ë¶„ì„ ì–´ë ¤ì›€
  - ê³¼ê±° ë¡œê·¸ë¡œ ì¸í•´ ë””ìŠ¤í¬ ê³µê°„ì„ ë„ˆë¬´ ì°¨ì§€ ã… ,ã… 

### 2. ELK
- ![image](https://user-images.githubusercontent.com/61215550/178898525-8c0d8687-4503-4ac7-af30-a8b8f3a63709.png)
- ë¡œê·¸ ë°ì´í„° ê²€ìƒ‰ ë° ë¶„ì„í•˜ëŠ” ë„êµ¬
 - âœ” ê³„ì† ìŒ“ì´ëŠ” ì›¹ë¡œê·¸ ì–´ë–»ê²Œ __ì €ì¥???__ ì–´ë–»ê²Œ **ê²€ìƒ‰???** **ë¶„ì„???** 
#### 2.1 ElasticSearch - ë°ì´í„° ê²€ìƒ‰ ë° ë¶„ì„ì„ ë‹´ë‹¹í•˜ëŠ” ì—”ì§„
- ë¶„ì‚°í˜• ê²€ìƒ‰ì—”ì§„
  - Apache Luceneê¸°ë°˜ìœ¼ë¡œ êµ¬ì¶•ë˜ì–´ ìˆì–´ì„œ **ë¶„ì‚°í˜• ë° ê°œë°©í˜•** íŠ¹ì§•
  - JAVAë¡œ ê°œë°œ
- ì‹¤ì‹œê°„ ë¶„ì„ì‹œìŠ¤í…œ 
  - í´ëŸ¬ìŠ¤í„°ê°€  ì‹¤í–‰ë˜ê³  ìˆëŠ” ë™ì•ˆ ê³„ì†í•´ì„œ ë°ì´í„° ì…ë ¥í•˜ê³  ê·¸ì™€ ë™ì‹œì— ì‹¤ì‹œê°„ì— ê°€ê¹Œìš´ ì†ë„ë¡œ ê²€ìƒ‰ ë° ì§‘ê³„ ìˆ˜í–‰
  - ì—­ì¸ë±ìŠ¤ ë°ì´í„° êµ¬ì¡° ì‚¬ìš© >> í’€í…ìŠ¤íŠ¸ ê²€ìƒ‰ ê°€ëŠ¥
- ë°ì´í„°ì €ì¥ ì—­í• 
  - LogStash í†µí•´ ìˆ˜ì‹ ëœ ë°ì´í„°ë¥¼ ì €ì¥ì†Œì— ì €ì¥í•˜ëŠ” ì—­í• 
  - ë°ì´í„° ì¤‘ì‹¬ë¶€ì— ì €ì¥í•˜ì—¬ ì˜ˆìƒë˜ëŠ” í•­ëª© ê²€ìƒ‰ + ì˜ˆìƒì¹˜ ëª»í•œ í•­ëª© ë°í˜€ëƒ„
  - ì •í˜•, ë¹„ì •í˜•, ìœ„ì¹˜ì •ë³´, ë§¤íŠ¸ë¦­ ë“± ì›í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ë‹¤ì–‘í•œ ìœ í˜•ì˜ ê²€ìƒ‰ ìˆ˜í–‰ ë° ê²°í•© ê°€ëŠ¥
  - í‘œì¤€ Restful API + JSON ì‚¬ìš©
#### 2.2 Logstash - ë°ì´í„° ìˆ˜ì§‘/ë³€í™˜ Elasticsearch ì „ì†¡(ë°ì´í„° ìˆ˜ì§‘ íŒŒì´í”„ë¼ì¸)
- ë°ì´í„°ìˆ˜ì§‘ì—”ì§„
  - ì˜¤í”ˆì†ŒìŠ¤ ì„œë²„ì¸¡ ë°ì´í„°ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸
  - JAVA Runtime ê°€ìƒë¨¸ì‹  ìœ„ì—ì„œ ëŒì•„ê°
  - ì¶œë ¥API  ElasticSearch ì§€ì› ì‹œì‘ >> Logstash(ì…ë ¥) --> ElasticSearch(ì¶œë ¥) ë³´í¸í™”
#### 2.3 Kibana - Elasicsearch ì— ì €ì¥ëœ ë°ì´í„° ì‹œê°í™”í•´ì£¼ëŠ” ì›¹ ì¸í„°í˜ì´ìŠ¤ 
- ì›¹ í”„ë¡ íŠ¸ì—”ë“œ ì„œë¹„ìŠ¤
  - ë°ì´í„° ê²€ìƒ‰í•˜ê³ , ì‹œê°í™”í•˜ëŠ” ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡ íŠ¸ì—”ë“œ ì„œë¹„ìŠ¤
  - ì‹œê°í™” ë‹´ë‹¹ `HTML + JS` ì—”ì§„

#### 2.4 (ì¶”ê°€) Beats
- ì„œë²„ì— ì„¤ì¹˜í•˜ëŠ” ì—ì´ì „íŠ¸
- ë‹¤ì–‘í•œ ìœ í˜•ì˜ ë°ì´í„° `ElasticSearch` `Logstash` ì „ì†¡í•  ìˆ˜ ìˆëŠ” ì˜¤í”ˆì†ŒìŠ¤ ë°ì´í„°ë°œì†¡ì§€
- ![image](https://user-images.githubusercontent.com/61215550/178899417-afc09a7f-1f36-4479-98d6-12b33a175450.png) 

### 3. ì¥ì 
- ê°•ë ¥í•œ ìœ ì—°ì„±ê³¼ í˜¸í™˜ì„±
- ììœ ìŠ¤í‚¤ë§ˆ
- í™•ì¥ê°€ëŠ¥ ë°ì´í„°ë² ì´ìŠ¤
- ë°ì´í„°ì²˜ë¦¬ì ˆì°¨ ê°œë³„ì„¤ì •
- ì‚¬ì „ì— ì¤€ë¹„ëœ ì‹œê°í™”ë„êµ¬
- ì‹¤ì‹œê°„ ë°ì´í„°ì²˜ë¦¬

### 4. ë‹¨ì 
- ì´ˆê¸°ë°ì´í„° êµ¬ì„± ë° ì´ê´€ë¬¸ì œ
- ì»¤ë„ë³€ìˆ˜ì˜ ë¶ˆí•„ìš”í•œ ì‚¬ìš©
- ì‹œê°„ëŒ€ ì¼ê´€ì„±ì´ ê¹¨ì§€ëŠ” ì‚¬ìš©

### 5. ë¹„êµ `Kafka` 
> [ì°¸ê³ ìë£Œ](https://mygumi.tistory.com/400)
#### 5.1 Kafka ë„ì… ì´ìœ 
- íŠ¸ë˜í”½ ëª°ë¦¬ë©´ `Logstash` `Elasticsearch` ë§Œìœ¼ë¡œ ë¶€í•˜ ê²¬ë””ê¸° í˜ë“¤ì–´ ã… ,ã… 

#### 5.2 Kafka ê°œë… 
- `Pub-Sub` ëª¨ë¸ ê°€ì§€ëŠ” ë¶„ì‚° ë©”ì‹œì§• í”Œë«í¼
- ê¸°ì¡´ ë©”ì‹œì§• ì‹œìŠ¤í…œì²˜ëŸ¼ Brokerê°€ Consumer ì—ê²Œ ì§ì ‘ ë©”ì‹œì§€ ì „ì†¡í•˜ëŠ” ë°©ì‹ ì•„ë‹˜!!
- Consumerê°€ Brokerë¡œë¶€í„° ì§ì ‘ ë©”ì‹œì§€ ê°€ì ¸ê°€ëŠ” ë°©ì‹

### 6. ğŸ“Œ ìš”ì•½
![image](https://user-images.githubusercontent.com/61215550/178904829-d1647cdf-2318-4086-a2c0-5aef90eaa059.png)
