## 카프카
- ![image](https://user-images.githubusercontent.com/61215550/208341245-16509500-9dab-4670-bcc9-69374a8d49c9.png)
- 분산 스트리밍 플랫폼
- 데이터 파이프 라인 구성시, 주로 사용되는 오픈소스 솔루션
  - `데이터 파이프라인` : 효율을 위한 작업 - [참고자료](https://blog.voidmainvoid.net/265)
- 대용량의 실시간 로그처리에 특화되어 있는 솔루션
- 데이터 유실없이 안전하게 전달하는 것이 주목적인 **메시지 시스템**
- 메시지를 메모리에 저장하는 기존 메시징 시스템과는 달리 메시지를 **파일 시스템 저장!** ✔
  - `Consumer` 가 언제든지 메시지 읽어서 처리 >> `pull` 방식
- 파일 시스템에 메시지 저장하기 때문 >> 별도의 설정 하지 않아도 데이터 영속성 보장
- 디스크 순차적으로 저장 >> 디스크 I/O 줄어들어 속도 빨라짐~
- 수평적으로 서버의 `Scale-Out` 가능
- 😛 `Publish(Producer) - Subscribe(Consumer)` 사이의 **Broker** 구성
- Consumer >> 메시지 모아 배치처리 가능!

### 1. 카프카의 Producer, Consumer
#### 1-1. 발신자 `Producer`
- 발신하는 역할을 하는 사람은 카프카에 전송?
- 수신자가 누구인지 알 필요 없음

#### 1-2. 수신자 `Consumer`
- 수신자는 카프카에 원하는 토픽 구독
- 수신자 역시 발신자가 누구인지 관심 없고 필요한 메시지 구독!

### 2. 카프카의 분산 시스템의 장점
#### 2-1. 높은 성능, 처리량
- 카프카의 브로커(노드)를 추가할 경우 성능은 브로커 수 만큼 증가!
- 쉬운 시스템 변경 >> 브로커 추가 및 제거 방법 쉬움
#### 2-2. 안정성
- 카프카 동일한 역할 수행하는 브로커들 중 일부 브로커에 장애 발생 시 >> 나머지 브로커들이 장애 발생 브로커의 처리까지 도맡아 처리 가능
- 안정성을 확보해야 하는 시스템일 수록 브로커 늘려 장애 발생에 대한 위험 감소 시켜줌 :)

### 3. 카프카의 `Topic` `Partition`
![image](https://user-images.githubusercontent.com/61215550/208341701-b00b7668-28be-4e3b-8bbf-e01b92c27f33.png)
#### 3-1. `Topic`
- 데이터 구분하기 위한 분류값 혹은 구분된 저장소
#### 3-2. `Partition`
- 카프카의 저장소를 토픽이라 하면 파티션은 **저장소안에 분리된 공간**
- 목적 >> 데이터 더 빨리 보내고 처리
- 파티션 무작정 많게 설정 시 >> 리소스 낭비 및 브로커 장애 발생 시 장애 복구시간이 오래 걸림 ㅠ,ㅠ 
  - ✔ 카프카는 내부적으로 토픽 아닌 `파티션` 단위로 분산처리
- ⭐운영중인 파티션 개수 처리하는 데이터의 양 충분하지 않을 떄 늘리는 것이 좋음

### 4. `Rabbit MQ` `Apache Kafka`
![image](https://user-images.githubusercontent.com/61215550/208341952-5c427339-d244-4285-93d4-4f9b26719b69.png)
