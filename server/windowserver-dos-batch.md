## 윈도웃 서버 - DOS Batch
> [참고자료](https://crazyj.tistory.com/178)

### 1. 주석
- `rem` 실행 후 입력 ... 프로그래밍시 간략한 설명을 위한 것
- `@rem test message ...`  앞에 `@` 붙이면 배치파일 실행 시 rem 커멘트 출력이 안되도록 함
- `@echo off` 한 경우 `@` 붙일 필요 없음
- `::` 아예 주석처리 진행되는 기호 

### 2. 변수와 출력
- 기본적인 출력 `echo`
- `set` 기호 >> 변수 설정 방법
  - 변수 이름, 값 `=` 으로 할당
- 변수 사용시 변수 이름 앞뒤에 `%` 붙임
- 변수 삭제는 빈값 할당 >> 빈 값 변수로 만드는 것이 아닌 변수 자체 삭제한다는 의미


```shell
SET FOO=hello world
echo %FOO%
echo %FOO%xxx%FOO%
SET FOO=
```


- ✔ `for문` 의 변수 이름 >> 커맨드창에서 바로 실행할 떄 영문자앞에 % 붙임
- 😛 (중요) Doc batch file(.bat) >> for문의 변수 영문자 앞 `%%` 두개 붙임
- `echo off` >> echo 실행명령 출력 x / 결과만 출력
- batch 파일 실행 시 뒤에 파라미터 >> 순서대로 %1, %2 ... 변수로 사용 가능
- 특수 문자 사용 시 >> `^` 사용

### 3. 스트링 처리
```
문자열 추출 mid / substr
FOO 변수의 값에서 인덱스 6부터 3글자를 추출. (인덱스는 0부터 시작) 뒤에 수를 생략하면 끝까지를 의미함. -1은 마지막 바로 한글자를 의미.
set BAR=%FOO:~6,3%
set BAR=%FOO:~5%
set BAR=%FOO:~-3% : FOO가 파일명일떄 마지막 세글자(확장자명)을 가져온다.
```

### 4. 연산
- 수 값 할당 / 연산 >> `set /a` 사용

### 5. 환경변수
- `%CD%`: 현재 작업 디렉터리
- `%DATE%` date 커맨드와 같은 포맷의 날짜
- `%TIME%` 
- `%RANDOM%`: 0 ~ 32767 범위의 수
- `%ERRORLEVEL%`
- `%CMDCMDLINE%` 

