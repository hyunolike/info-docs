## `@MockMvc` vs `@SpringBootTest`
> [참고 자료](https://syundev.tistory.com/252)
- 스프링 프레임워크 테스트 2가지
  - `ApplicationContext` 전체 불러와 테스트하는 방법
  - 특정 레이어 불러와서 테스트하는 방법
- ✔ 전체 테스트는 프로젝트의 크기 커지면 테스트 속도 느려짐 >> 통합테스트 아닐때는 불필요
- ✔ 유닛 테스트 >> 특정 레이어만 테스트하는게 좋은 방법
  - 특정 레이어 테스트 시 >> 레이어에 해당하는 빈만 들고오기에 의존관계에 있는 다른레이어는 `Mock` 이용해 테스트 진행
- 통합 테스트 >> `@SpringBootTest`
- 원하는 레이어 테스트 >> `@MockMvcTest`

### 컨트롤러 테스트
- 필요 이유
  - MSA 구조에서 여러 팀이 서로 다른 서비스 관리 >> API 변경이 치명적인 장애 발생
  - 컨트롤러에 대한 단위테스트 통과되면 비즈니스 로직 변경되거나 코드를 리팩토링 하더라도 실제 응답에 변화 생기지 않음을 보장해야됨
- 컨트롤러 테스트 == 유닛테스트

|용어|설명|
|-----|-----|
|`@WebMvcTest`|서버에서 컨트롤러만 테스트할 때 사용하는 어노테이션|
|`@SpringBootTest`|클라이언트로부터 상호작용을 확인하는 통합테스트 <br> Mock 객체 사용 가능하지만 간단한 컨트롤러 테스트에는 적합하지 않음|

### 차이점
- `@SpringBootTest`: 웹애플리케이션 컨텍스트와 설정 모두 불러와 웹 서버에 연결 시도 이 경우 `RestTemplate` 사용
- `@MockMvcTest`: 웹애플리케이션 컨텍스트 초기화 >> 모든 설정 불러오는 것이 아닌 mvc 레이어와 관련된 설정만 불러옴
  - HTTP 요청은 mock 이용해 가짜로 이뤄지고 실제 연결은 생성되지 않음
